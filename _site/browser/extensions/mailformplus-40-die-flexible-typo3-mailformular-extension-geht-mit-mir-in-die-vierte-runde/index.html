<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Mailformplus 4.0 - Die flexible Typo3 Mailformular Extension geht mit mir in die vierte Runde &#8211; mediavrog</title>
<meta name="description" content="
  Seit kurzem ist die Version 4.0 der feinen Formularextension Mailformplus nun mit userValidation im Repository zu finden.


">
<meta name="keywords" content="Ã¼berprÃ¼fung, extension, formular, mailform-plus, mailformplus, repository, typo3, userValidation, validierung">


<!-- Twitter Cards -->
<meta name="twitter:title" content="Mailformplus 4.0 - Die flexible Typo3 Mailformular Extension geht mit mir in die vierte Runde">
<meta name="twitter:description" content="
  Seit kurzem ist die Version 4.0 der feinen Formularextension Mailformplus nun mit userValidation im Repository zu finden.


">
<meta name="twitter:site" content="@mediavrog">
<meta name="twitter:creator" content="@mediavrog">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://127.0.0.1:4000/images/mailformplus.jpg">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Mailformplus 4.0 - Die flexible Typo3 Mailformular Extension geht mit mir in die vierte Runde">
<meta property="og:description" content="
  Seit kurzem ist die Version 4.0 der feinen Formularextension Mailformplus nun mit userValidation im Repository zu finden.


">
<meta property="og:url" content="http://127.0.0.1:4000/browser/extensions/mailformplus-40-die-flexible-typo3-mailformular-extension-geht-mit-mir-in-die-vierte-runde/">
<meta property="og:site_name" content="mediavrog">

<meta property="og:image" content="http://127.0.0.1:4000/images/mailformplus.jpg">






<link rel="canonical" href="http://127.0.0.1:4000/browser/extensions/mailformplus-40-die-flexible-typo3-mailformular-extension-geht-mit-mir-in-die-vierte-runde/">
<link href="http://127.0.0.1:4000/feed.xml" type="application/atom+xml" rel="alternate" title="mediavrog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://127.0.0.1:4000/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="http://127.0.0.1:4000/assets/js/vendor/html5shiv.min.js"></script>
	<script src="http://127.0.0.1:4000/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://127.0.0.1:4000/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400,300" />

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://127.0.0.1:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://127.0.0.1:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://127.0.0.1:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://127.0.0.1:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://127.0.0.1:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://127.0.0.1:4000/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://127.0.0.1:4000/">mediavrog</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav id="site-nav" class="nav">
		    <ul>
		        
				    
				    <li><a href="http://127.0.0.1:4000/about/" >About</a></li>
				
				    
				    <li><a href="http://127.0.0.1:4000/blog/" >Blog</a></li>
				
				    
				    <li><a href="http://127.0.0.1:4000/projects/" >Projects</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->




<div id="main" role="main">
  <div class="article-author-side">
    

<div itemscope itemtype="http://schema.org/Person">


	<img src="http://127.0.0.1:4000/images/bio-photo.png" class="bio-photo" alt="Maik Vlcek bio photo">


  <h4 itemprop="name">Maik Vlcek</h4>
  <p><small>Full stack & mobile engineer</small></p>
  
  
  <a href="http://twitter.com/mediavrog" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>
  
  
  
  
  
  
  <a href="http://github.com/mediavrog" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  
  
  
  
  
  
  
  
  
  
  
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="http://127.0.0.1:4000/browser/extensions/mailformplus-40-die-flexible-typo3-mailformular-extension-geht-mit-mir-in-die-vierte-runde/" rel="bookmark" title="Mailformplus 4.0 - Die flexible Typo3 Mailformular Extension geht mit mir in die vierte Runde">Mailformplus 4.0 - Die flexible Typo3 Mailformular Extension geht mit mir in die vierte Runde</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <blockquote>
  <p>Seit kurzem ist die Version 4.0 der feinen Formularextension Mailformplus nun mit userValidation im Repository zu finden.</p>
</blockquote>

<p>Sie hat Einiges zu bieten: neben der Darstellung mit eigenem HTML-Template, welches ein eigenes CSS nachladen kann, ist es per Typoscript möglich, die Felder validieren zu lassen (dazu gibts dann natürlich auch die passende Fehlerausgabe). Das Formular kann sich außerdem auf mehrere Seiten erstrecken (multipage) und bietet zudem noch Captcha Support.</p>

<p>An der neuen Version haben anscheinden ne Menge Leute daran gearbeitet und dem Autor der Extension hilfreich zur Seite gestanden. Neben Mehrsprachigkeit, Spamschutz und einigen Bugfixes gibt es nun auch die Möglichkeit, die Felder / Eingabedaten mit einer eigenen Funktion zu überprüfen (siehe <a href="http://typo3.org/documentation/document-library/extension-manuals/th_mailformplus/4.0.0/view/1/5/" title="Beispielseite der Doku von Mailformplus 4.0 öffnen">Hook for custom validation auf der Dokuseite</a> ), welche ich dieser sehr guten und flexiblen Extension gerne beisteuerte.</p>

<p>Diese Funktionalität hatte mir persönlich noch gefehlt, da in der vorherigen Version nur auf ein paar vordefinierte Validierungsfunktionen zurückgegriffen werden konnte. Zudem bietet das Validieren mit dieser Methode die Möglichkeit, detailliertere und besser beschreibende Fehlermeldungen auszugeben. Weiterhin kann man damit auch Checkboxen und Radiobuttons prüfen.</p>

<p>In 3 Schritten zur eigenen Überprüfung der Daten / Validierung:</p>

<h2 id="eigene-validierungsfunktion-konfigurieren">1) eigene Validierungsfunktion konfigurieren</h2>

<p>Um den Hook zu nutzen, muss in der TS-Konfiguration von Mailformplus die</p>

<p>plugin.tx_thmailformplus_pi1.errorUserFunc = EXT:myext/class.user_myvalidation.php:user_myvalidation-&gt;user_validate</p>

<p>gesetzt sein. Im obigen Beispiel wird eine Instanz der Klasse user_myvalidation (File: class.user_myvalidation.php aus dem Extensionverzeichnis myext) erstellt und deren Methode user_validate aufgerufen.</p>

<h2 id="die-eingabefelder-fr-die-eigene-validierung-konfigurieren">2) die Eingabefelder für die eigene Validierung konfigurieren</h2>

<p>plugin.tx_thmailformplus_pi1.fieldConf.[name of inputfield].errorCheck = userValidation
plugin.tx_thmailformplus_pi1.fieldConf.[name of inputfield].errorCheck{
 checkFor = telephone
 param2 = ger
}</p>

<p>Der Parameter <strong>checkFor</strong> ist hier nur beispielhaft angegeben; man kann ihn in der eigenen Validierungsmethode per <strong>$params[‚checkFor‘]</strong> aufrufen, um z.B. über eine switch-case Anweisung auf die verschiedenen Validierungen einzugehen (in diesem Beispiel nimmt die Variable den Wert „telephone“ an).</p>

<p>Es können beliebige weitere Parameter angegeben werden, welche ebenfalls über $params[NAME_DES_PARAMETERS] ansprechbar sind.</p>

<p>Der zu überprüfende Wert des Inputfeldes ist über die Variable <strong>$params[‚value‘]</strong> erreichbar.</p>

<h2 id="die-validierungsfunktion-schreiben">3) Die Validierungsfunktion schreiben</h2>

<p>class.user_myvalidation.php
class user_myvalidation {
function user_validate(&amp;$params, &amp;$ref){
  $input = $params[‘value’];
  switch($params[‘checkFor’]){
    case “telephone”:
        /* option 1 */
        $error = preg_match(“/[+]?([0-9]+[s]?)+/”,$input);</p>

<div class="highlighter-rouge"><pre class="highlight"><code>   /* extended version with custom error messages */
   if(strlen($input) &amp;lt; 1){
      $error = array("errorFound"=&gt;1,"errorText"=&gt;'Please fill out this field');
   }
   else{
      $errorFound = preg_match("/[+]?([0-9]+[s]?)+/",$input);
      $error = array("errorFound"=&gt;$errorFound,"errorText"=&gt;'Please enter a valid telephone number');
   }
   break;   case "email": ...    
</code></pre>
</div>

<p>}
return $error;
}
}</p>

<p>Wie man in dem Beispiel gezeigt, kann die Übergabe eines gefundenen Fehlers auf zwei Wegen geschehen:</p>

<p>a) als boolean – ein Fehler wurde (nicht) gefunden</p>

<p>b) als array („errorFound“=&gt;boolean, „errorText“=&gt;eigene Fehlernachricht, welche TS Einstellungen überschreibt“);</p>

<p>Mit der zweiten Variante hat man die Möglichkeit die Usability deutlich zu verbessern, da treffende Fehlermeldungen definiert werden können.</p>


      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=http://127.0.0.1:4000/browser/extensions/mailformplus-40-die-flexible-typo3-mailformular-extension-geht-mit-mir-in-die-vierte-runde/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://127.0.0.1:4000/browser/extensions/mailformplus-40-die-flexible-typo3-mailformular-extension-geht-mit-mir-in-die-vierte-runde/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://127.0.0.1:4000/browser/extensions/mailformplus-40-die-flexible-typo3-mailformular-extension-geht-mit-mir-in-die-vierte-runde/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>Mailformplus 4.0 - Die flexible Typo3 Mailformular Extension geht mit mir in die vierte Runde</strong> was published on <time datetime="2007-05-22T20:05:28+09:00">May 22, 2007</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->


  
  <aside class="read-next">
    <a class="read-next-story prev " style="" href="http://127.0.0.1:4000/formatting-post/" title="Formatting Post">
      <section class="post">
        <h2>Formatting Post</h2>
        Demo post displaying the various ways of highlighting code in Markdown.
      </section>
    </a>
  </aside>
  


<div class="footer-wrap">
  <footer>
    

<section class="copyright"><a href="http://127.0.0.1:4000">Maik Vlcek</a> &copy; 2016</section>
<section class="poweredby">Proudly published with <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a></section>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://127.0.0.1:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://127.0.0.1:4000/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl =
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-1304393-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


  



</body>
</html>
