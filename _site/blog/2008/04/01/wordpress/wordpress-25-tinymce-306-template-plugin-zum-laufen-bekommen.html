

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>Wordpress 2.5 &gt; tinyMCE 3.0.6 &gt; Template Plugin zum Laufen bekommen - mediavrog</title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="mediavrog">
<meta property="og:title" content="Wordpress 2.5 &gt; tinyMCE 3.0.6 &gt; Template Plugin zum Laufen bekommen">


  <link rel="canonical" href="http://localhost:4000/blog/2008/04/01/wordpress/wordpress-25-tinymce-306-template-plugin-zum-laufen-bekommen">
  <meta property="og:url" content="http://localhost:4000/blog/2008/04/01/wordpress/wordpress-25-tinymce-306-template-plugin-zum-laufen-bekommen">



  <meta property="og:description" content="  WordPress 2.5 kommt nach dem großen Versionsprung nun auch endlich mit der Version 3 des tinyMCE Editors daher.Bei der Konfiguration des neuen tinyMCE ist mir aufgefallen, dass das Template-Plugin bei einer bestimmten Einstellung nicht mehr funktioniert. Die Lösung liegt in der Verwendung eines anderen Initialisierungsparameters.">





  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2008-04-01T15:04:52+09:00">
  
    <link rel="next" href="http://localhost:4000/blog/2008/04/04/180grad/pfuetzen" title="Pfützen">
  
  
    <link rel="prev" href="http://localhost:4000/blog/2008/03/25/typo3/direct-mail-newsletter-anmeldung-uber-mailformplus-oder-ein-anderes-kontaktformular" title="Direct Mail Newsletter Anmeldung über Mailformplus oder ein anderes Kontaktformular">
  





  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Maik Buchmeyer",
      "url" : "http://localhost:4000",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="mediavrog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!--<link rel="pingback" href="https://webmention.io/www.mediavrog.net/xmlrpc" />-->
<link rel="webmention" href="https://webmention.io/www.mediavrog.net/webmention" />

<!-- end custom head snippets -->
  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="http://localhost:4000/">mediavrog</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/about/">About</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/blog/">Blog</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/projects/">Projects</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    





<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  
    <div class="kudos" data-amount="0" data-url="http://localhost:4000/blog/2008/04/01/wordpress/wordpress-25-tinymce-306-template-plugin-zum-laufen-bekommen"></div>
  

  <div class="author__avatar">
    
    	<img src="http://localhost:4000/images/bio-photo.jpg" class="author__avatar" alt="Maik Buchmeyer">
    
  </div>

  <div class="author__content">
    <h3 class="author__name">Maik Buchmeyer</h3>
    <p class="author__bio">Full stack & mobile engineer. CTO at AIR at en-japan</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Tokyo</li>
      
      
      
      
      
        <li><a href="https://twitter.com/@mediavrog" rel="me"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
      
      
      
      
      
      
      
      
      
        <li><a href="https://github.com/mediavrog" rel="me"><i class="fa fa-fw fa-github" aria-hidden="true"></i> Github</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Wordpress 2.5 &gt; tinyMCE 3.0.6 &gt; Template Plugin zum Laufen bekommen">
    <meta itemprop="description" content="  WordPress 2.5 kommt nach dem großen Versionsprung nun auch endlich mit der Version 3 des tinyMCE Editors daher.Bei der Konfiguration des neuen tinyMCE ist mir aufgefallen, dass das Template-Plugin bei einer bestimmten Einstellung nicht mehr funktioniert. Die Lösung liegt in der Verwendung eines anderen Initialisierungsparameters.">
    <meta itemprop="datePublished" content="April 01, 2008">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Wordpress 2.5 &gt; tinyMCE 3.0.6 &gt; Template Plugin zum Laufen bekommen
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  2 minute read
	
</p>
          
          
            <div class="thumb">
              <img src="http://localhost:4000/images/wordpress.jpg" alt="Wordpress 2.5 > tinyMCE 3.0.6 > Template Plugin zum Laufen bekommen thumb image" />
            </div>
          
        </header>
      

      <section class="page__content" itemprop="text">
        <blockquote>
  <p>WordPress 2.5 kommt nach dem großen Versionsprung nun auch endlich mit der Version 3 des tinyMCE Editors daher.
Bei der Konfiguration des neuen tinyMCE ist mir aufgefallen, dass das Template-Plugin bei einer bestimmten 
Einstellung nicht mehr funktioniert. Die Lösung liegt in der Verwendung eines anderen Initialisierungsparameters.</p>
</blockquote>

<h2 id="doch-vorerst-zur-installation">Doch vorerst zur Installation.</h2>

<p>tinyMCE im WordPress Bundle wird nämlich nur mit einer spärlichen Anzahl an Plugins ausgeliefert. Dazu gehören autosave, directionality, fullscreen (Vollbildmodus beim Editieren), inlinepopups, media, paste, safari, spellchecker und wordpress. Doch <a href="http://tinymce.moxiecode.com/example_full.php?example=true" title="Full example von tinyMCE öffnen">tinyMCE hat mehr zu bieten</a> und nach Anforderung sollten auch die Templates wieder mit von der Partie sein. Nach <a href="http://tinymce.moxiecode.com/download.php" title="tinyMCE Downloadseite öffnen">Download der aktuellsten Version</a> auf der Seite von moxiecode (welcher dann auch alle Plugins beinhaltet) musste ich erstmal feststellen, dass mit WordPress offenbar eine noch nirgens (auch nicht im SVN) erschienene Version von tinyMCE ausgeliefert wird (vgl. aktuelle Version 3.0.5  WordPress tinyMCE 3.0.6). Ich nehme an dass in der WordPress Version einige Kompatibilitäten integriert worden sind.</p>

<p>Aber zurück zum Template-Plugin. Nach Kopieren in den tinyMCE Plugin-Ordner und Anpassen der tiny_mce_config.php (wp-includes\js\tinymce) an folgenden Stellen erschien schonmal der Template Button wieder:</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code>$plugins = array( 'safari', 'inlinepopups', [...], 'template' );
$mce_buttons = apply_filters('mce_buttons', array('bold', [...], 'template' ));
</code></pre>
</div>

<p>[Hinweis: Die manuelle Anpassung der <code class="highlighter-rouge">tiny\mce\config.php</code> empfehle ich nicht. Diese und folgende Einstellungen können
 in ein WP Plugin ausgelagert werden was bedingungslos zu empfehlen ist, da sie bei einem Upgrade von WordPress 
 ansonsten verloren gehen können; <a href="http://codex.wordpress.org/TinyMCE_Custom_Buttons">WordPress bietet zur Konfiguration von tinyMCE 
 (insbesondere Hinzufügen eigener Buttons) Filter</a> an!]</p>

<p>Die weitere (gewohnte) Definition der eigenen Templates im $initArray schlug dann aber fehl:</p>

<div class="language-php highlighter-rouge"><pre class="highlight"><code>'template_templates' =&gt; array(
	array("TemplateName","TemplateURL","TemplateBeschreibung"),
	array("TemplateName2","TemplateURL2","TemplateBeschreibung2")
);
</code></pre>
</div>

<h2 id="die-ursache">Die Ursache</h2>

<p>Nach langer Recherche und Debuggen (danke <a href="https://addons.mozilla.org/de/firefox/addon/1843" title="Pluginseite von Firebug auf mozilla.org öffnen">Firebug</a>!) habe ich die Ursache gefunden:</p>

<p>In der <code class="highlighter-rouge">tinymce\plugin\verzeichnis/template/js/template.js_</code> wird in der init-Funktion versucht den festgelegten
Parameter <code class="highlighter-rouge">template_templates</code> per <code class="highlighter-rouge">tsrc = ed.getParam("template_templates", false);</code>.
auszulesen. Leider <a href="http://wiki.moxiecode.com/index.php/TinyMCE:API/tinymce.Editor/getParam" title="Dokumentation zu getParam öffnen">liefert die Funktion ed.getParam aber nur Strings zurück</a>, was bei einem Array in Javascript den 
String „Array“ zurückgibt. Klar dass die weitere Abarbeitung (insbesondere der Versuch diesen String zu
 durchlaufen und URLs daraus zu ermitteln) fehl schlägt und mit folgendem Fehler abbricht (Stack aus Firebug):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>u has no properties
_init(undefined, Object base_uri=Object)tiny_mce_config.p... (line 39)
_init(undefined, undefined)tiny_mce_config.p... (line 39)
init()template.js (line 24)
(no name)(Object scope=Object)tiny_mce_popup.js (line 204)
_init([Object scope=Object], function(), [Object
scope=Object])tiny_mce_config.p... (line 39)
_onDOMLoaded()tiny_mce_popup.js (line 203)
(no name)()
</code></pre>
</div>

<h2 id="die-lsung-dazu">Die Lösung dazu</h2>

<p>Zumindest bis der Bug gefixt wurde, ist recht einfach. TinyMCE lässt die Definition der Templates auch in einem
 externen Javascript-File zu.</p>

<p>Dazu wird einfach im initArray der <a href="http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/template#Plugin_options">Parameter <em>template_external_list_url</em></a> genutzt. Gefüllt mit dem Pfad zu einem
 Javascript-Datei (<a href="http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/template#Example_of_an_external_list">vgl. beispielhafter Aufbau</a>), welche dann das Array von Templates enthält funktioniert auch
  der Template-Button wieder wie gewünscht.</p>

<h2 id="ein-letztes-problem">Ein letztes Problem</h2>

<p>Mein letztes Problem ist nur noch, dass aus unerfindlichen Gründen die Platzhalter für die Lokalisierung nicht ersetzt
 werden (vgl. Screenshot)</p>

<p><a href="http://mediavrog.net/blog/wp-content/uploads/2008/04/template_bug.gif" title="Keine Lokalisierung im Template Plugin"><img src="http://mediavrog.net/blog/wp-content/uploads/2008/04/template_bug.thumbnail.gif" alt="Keine Lokalisierung im Template Plugin" /></a></p>

<p>Wenn dazu noch jmd eine Lösung kennt und sie hier postet wäre ich sehr dankbar :)</p>


        
      </section>

      <footer class="page__meta">
        
        


  




  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="http://localhost:4000/tags/#plugin" class="page__taxonomy-item" rel="tag">plugin</a><span class="sep">, </span>
    
      
      
      <a href="http://localhost:4000/tags/#tinymce" class="page__taxonomy-item" rel="tag">tinymce</a>
    
    </span>
  </p>




  






  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="http://localhost:4000/categories/#wordpress" class="page__taxonomy-item" rel="tag">wordpress</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published on </strong> <time datetime="2008-04-01T15:04:52+09:00">April 01, 2008</time></p>
        
        
          
<p class="page__fix">
  <strong><i class="fa fa-fw fa-bug" aria-hidden="true"></i> Found a mistake?</strong>
  <span>
    <a class="btn btn--inverse" href="https://github.com/mediavrog/mediavrog.github.io/edit/master/_posts/2008/2008-04-01-wordpress-25-tinymce-306-template-plugin-zum-laufen-bekommen.md" rel="nofollow">Please fix it</a>
    Thanks :)
  </span>
</p>
        
      </footer>

      

<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/blog/2008/04/01/wordpress/wordpress-25-tinymce-306-template-plugin-zum-laufen-bekommen" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/blog/2008/04/01/wordpress/wordpress-25-tinymce-306-template-plugin-zum-laufen-bekommen" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=http://localhost:4000/blog/2008/04/01/wordpress/wordpress-25-tinymce-306-template-plugin-zum-laufen-bekommen" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/blog/2008/04/01/wordpress/wordpress-25-tinymce-306-template-plugin-zum-laufen-bekommen" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>

      


  <nav class="pagination">
    
      <a href="http://localhost:4000/blog/2008/03/25/typo3/direct-mail-newsletter-anmeldung-uber-mailformplus-oder-ein-anderes-kontaktformular" class="pagination--pager" title="Direct Mail Newsletter Anmeldung über Mailformplus oder ein anderes Kontaktformular
">Previous</a>
    
    
      <a href="http://localhost:4000/blog/2008/04/04/180grad/pfuetzen" class="pagination--pager" title="Pfützen
">Next</a>
    
  </nav>

    </div>

    
      

<div class="page__comments">
  <h4 class="page__comments-title">Comments</h4>
  
    <section id="comments"><!-- start custom comments snippet -->



<p class="notice--success">
  <a href="https://github.com/mediavrog/mediavrog.github.io/edit/master/_posts/2008/2008-04-01-wordpress-25-tinymce-306-template-plugin-zum-laufen-bekommen.md" rel="nofollow"><strong>Leave a comment</strong></a>
  &mdash;
  Edit this page on github and issue a PR for your comment please.
  <a href="https://github.com/mediavrog/mediavrog.github.io/wiki#how-to-comment" rel="nofollow"><sup>HowTo?</sup></a>
</p>





<!--<p><small><span data-webmention-count data-url="http://localhost:4000/blog/2008/04/01/wordpress/wordpress-25-tinymce-306-template-plugin-zum-laufen-bekommen">0</span> mentions</small></p>-->
<!-- end custom comments snippet --></section>
  
</div>
    
  </article>

  
  
    <div class="page__related">
      
        <h4 class="page__related-title">You May Also Enjoy</h4>
      
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  
    <a href="http://localhost:4000/career/headhunted-not/">
  
    <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
      
      <h2 class="archive__item-title" itemprop="headline">Headhunted - Not
</h2>
      
        <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  2 minute read
	
</p>
      
      <p class="archive__item-excerpt" itemprop="description">When to be careful to not just pass on your data to any recruiter.
</p>
    </article>
  </a>
</div>
        
          



<div class="grid__item">
  
    <a href="http://localhost:4000/javascript/bootstrap-datepicker-readonly/">
  
    <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
      
      <h2 class="archive__item-title" itemprop="headline">Read-only for bootstrap datepicker calendar popup
</h2>
      
        <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  less than 1 minute read
	
</p>
      
      <p class="archive__item-excerpt" itemprop="description">Small js to simulate read only in the calendar popup.
</p>
    </article>
  </a>
</div>
        
          



<div class="grid__item">
  
    <a href="http://localhost:4000/blog/2013/10/12/app/kompare/kompare-widget-for-price-comparison-released">
  
    <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
      
      <h2 class="archive__item-title" itemprop="headline">kompare - ein Widget zum einfachen vergleichen von Preisen released
</h2>
      
        <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  less than 1 minute read
	
</p>
      
      <p class="archive__item-excerpt" itemprop="description">Vor ein paar Tagen ging das kompare Widget nun endlich im [Play Store][1] live.

</p>
    </article>
  </a>
</div>
        
          



<div class="grid__item">
  
    <a href="http://localhost:4000/apps/kompare-android-price-comparison-widget/">
  
    <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
      
      <h2 class="archive__item-title" itemprop="headline">kompare - Android widget for price comparison released
</h2>
      
        <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  less than 1 minute read
	
</p>
      
      <p class="archive__item-excerpt" itemprop="description">The kompare price comparison widget was released to the Play Store just a few days ago.

</p>
    </article>
  </a>
</div>
        
      </div>
    </div>
  
</div>

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
      <li><a href="http://github.com/mediavrog"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="http://localhost:4000/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2018 Maik Buchmeyer. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
      </footer>
    </div>

    <script src="http://localhost:4000/assets/js/main.min.js"></script>









  </body>
</html>

